version: "1.0"
block_configs:
  - block_type: LLMBlock
    block_config:
      block_name: gen_questions
      config_path: configs/skills/freeform_questions.yaml
      add_num_samples: True
      output_cols:
        - question
    drop_duplicates:
      - question
  - block_type: LLMBlock
    block_config:
      block_name: eval_questions
      config_path: configs/skills/evaluate_freeform_questions.yaml
      output_cols:
        - evaluation
        - score
  - block_type: FilterByValueBlock
    block_config:
      block_name: filter_questions
      filter_column: score
      filter_value: 1.0
      operation: eq
      convert_dtype: float
    drop_columns:
      - evaluation
      - score
      - num_samples
  - block_type: LLMBlock
    block_config:
      block_name: gen_responses
      config_path: configs/skills/freeform_responses.yaml
      output_cols:
        - response
  - block_type: LLMBlock
    block_config:
      block_name: evaluate_qa_pair
      config_path: configs/skills/evaluate_freeform_pair.yaml
      output_cols:
        - evaluation
        - score
  - block_type: FilterByValueBlock
    block_config:
      block_name: filter_qa_pair
      filter_column: score
      filter_value: 2.0
      operation: ge
      convert_dtype: float
    drop_columns:
      - evaluation
      - score
